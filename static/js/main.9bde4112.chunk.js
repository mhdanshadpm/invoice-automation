(this["webpackJsonpinvoice-automation"]=this["webpackJsonpinvoice-automation"]||[]).push([[0],{3014:function(e,t){},3105:function(e,t,n){},3220:function(e,t){},3221:function(e,t){},3322:function(e,t){},3494:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(91),i=n.n(r),l=(n(687),n(688),n(689),n(133)),o=n(37),d=n(35),s=n(21),j=n(13),b=n(26),u=n(646),h=n.n(u),O=n(647),x=n(22),f=n.n(x),v=(n(718),n(719),n(3496)),m=n(3521),g=n(3522),p=n(3516),y=n(249),w=n(122),k=n(3513),D=n(3514),T=n(3512),M=n(3511),C=n(3518),A=n(3519),S=n(3515),W=n(3525),Y=n(3523),N=n(45),B=n(115),I=Object(B.b)({name:"invoice",initialState:{app:{},data:{},file:void 0,json:void 0,cardData:{},formData:{to:"",project:"",balance:"",nextMonthEstimate:0,minDate:void 0,maxDate:void 0,activeItem:"Week 1",invoiceMode:"week",invoiceNumber:0,data:[],dateRange:[new Date,new Date]}},reducers:{setWeekInvoiceData:function(e,t){e.data=t.payload},setSelectedFile:function(e,t){e.file=t.payload},setSelectedJSONFile:function(e,t){e.json=t.payload},setCardData:function(e,t){e.cardData=t.payload},setFormData:function(e,t){e.formData=Object(j.a)(Object(j.a)({},e.formData),t.payload)},setAppData:function(e,t){e.app=Object(j.a)(Object(j.a)({},e.app),t.payload)}}}),_=I.actions,P=_.setWeekInvoiceData,F=_.setSelectedFile,H=_.setSelectedJSONFile,R=_.setCardData,E=(_.setFormData,_.setAppData),$=function(e){return e.invoice.data},U=function(e){return e.invoice.file},z=function(e){return e.invoice.json},V=function(e){return e.invoice.cardData},Q=function(e){return e.invoice.formData},L=function(e){return e.invoice.app},K=I.reducer,G=Object(B.b)({name:"ui",initialState:{shouldEnableCardCalculation:!1},reducers:{toggleShouldEnableCardCalculation:function(e){e.shouldEnableCardCalculation=!e.shouldEnableCardCalculation}}}),q=G.actions.toggleShouldEnableCardCalculation,J=function(e){return e.ui.shouldEnableCardCalculation},X=G.reducer,Z=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},ee=function(e){var t=parseInt(e/3600);return t+":"+f.a.utc(1e3*parseInt(e-3600*t)).format("mm")},te=function(e){var t=e.split(":");return 3600*Number(t[0])+60*Number(t[1])},ne=function(e,t){for(var n=String(e);n.length<(t||2);)n="0"+n;return n},ae=function(e,t,n){for(var a=[],c=e;c<=t+n;c+=n)a.push(c);return a},ce=n(2),re=function(e){var t,n,c,r,i,l=e.data,o=e.no,d=e.name,u=e.setHourlyRate,h=e.onChangeHoursWorked,O=e.activeItem,x=e.cardData,f=e.deleteWorkerData,m=e.invoiceDataKeys,g=Object(N.c)(J),y=Object(a.useState)(l.hoursWorked),w=Object(b.a)(y,2),k=w[0],D=w[1],C=Object(a.useState)(!0),A=Object(b.a)(C,2),S=A[0],W=A[1],Y=Object(a.useState)(!1),B=Object(b.a)(Y,2),I=B[0],_=B[1],F=Object(a.useState)(!1),H=Object(b.a)(F,2),R=H[0],E=H[1],U=Object(a.useState)({prevKey:d,newKey:d}),z=Object(b.a)(U,2),V=z[0],Q=z[1],L=Object(N.b)(),K=Object(N.c)($),G=Object(a.createRef)();return Object(a.useEffect)((function(){D(l.hoursWorked)}),[l]),Object(ce.jsxs)(p.a.Row,{style:{textAlign:"center"},children:[Object(ce.jsx)(p.a.Cell,{children:o}),Object(ce.jsx)(p.a.Cell,{style:{textAlign:"left"},children:I?Object(ce.jsxs)(M.a,{error:R,type:"text",placeholder:"Worker",children:[Object(ce.jsx)("input",{value:V.newKey,onChange:function(e){E(!!m.includes(e.target.value)&&V.prevKey!==e.target.value),Q(Object(j.a)(Object(j.a)({},V),{},{newKey:e.target.value}))}}),Object(ce.jsx)(v.a,{style:{backgroundColor:"transparent"},onClick:function(){if(V.prevKey===V.newKey)Q(Object(j.a)(Object(j.a)({},V),{},{newKey:V.prevKey})),_(!1);else if(R)alert("Worker already exist!");else{var e=Object.keys(K).reduce((function(e,t){var n=Object(j.a)({},K),a=Object(j.a)({},n[t].data);return a[V.newKey]=Object(j.a)(Object(j.a)({},a[V.prevKey]),{},{worker:V.newKey}),delete a[V.prevKey],Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t,Object(j.a)(Object(j.a)({},n[t]),{},{data:a})))}),{});console.log({updatedWeekInvoiceData:e}),L(P(e)),_(!1),alert("Worker name updated!")}},icon:"check"}),Object(ce.jsx)(v.a,{style:{backgroundColor:"transparent"},onClick:function(){Q(Object(j.a)(Object(j.a)({},V),{},{newKey:V.prevKey})),_(!1)},icon:"cancel"})]}):Object(ce.jsxs)(ce.Fragment,{children:[l.worker," ",Object(ce.jsx)(v.a,{style:{backgroundColor:"transparent"},onClick:function(){return _(!0)},icon:"pencil alternate"})]})}),"Total"!==O&&Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(M.a,Object(j.a)(Object(j.a)({type:"text",error:!S},l.hoursWorked!==k&&{labelPosition:"left"}),{},{placeholder:"Amount",children:Object(ce.jsx)("input",{ref:G,style:{width:100},value:k,onChange:function(e){var t=e.target.value;D(t);/^\d+:[0-5][0-9]$/.test(t)?(h(d,t),W(!0)):W(!1)}})}))}),Object(ce.jsx)(p.a.Cell,{children:l.hoursBilled}),Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(T.a,{search:!0,onChange:function(e,t){u(d,Number(t.value))},value:l.hourlyRate.toFixed(2),fluid:!0,selection:!0,options:ae(1,25,.01).map((function(e){return{key:e.toFixed(2),value:e.toFixed(2),text:"$"+e.toFixed(2)}}))})}),Object(ce.jsxs)(p.a.Cell,{children:["$",l.totalInUSD.toFixed(2)]}),g&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(p.a.Cell,{textAlign:"center",children:(null===x||void 0===x||null===(t=x.total)||void 0===t?void 0:t.cardTotal)||"--"}),Object(ce.jsx)(p.a.Cell,{textAlign:"center",children:("Team Member"===(null===x||void 0===x?void 0:x.role)?null===x||void 0===x||null===(n=x.total)||void 0===n||null===(c=n.average)||void 0===c?void 0:c.asTeamMember:null===x||void 0===x||null===(r=x.total)||void 0===r||null===(i=r.average)||void 0===i?void 0:i.asQAPerson)||"--"})]}),Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(v.a,{onClick:function(){return f(d)},icon:"trash"})})]})},ie=n(200),le=n.n(ie),oe=function(e){var t,n,c=e.invoiceData,r=e.setHourlyRate,i=e.total,l=e.onChangeHoursWorked,o=e.activeItem,d=e.cardData,s=e.addWorkerData,u=e.deleteWorkerData,h=Object(N.c)(J),O={hourlyRate:1,worker:"",hours:0,hoursBilled:"00:00",hoursWorked:"",timeWorked:0,totalInUSD:1},x=Object(a.useState)(!0),m=Object(b.a)(x,2),g=m[0],y=m[1],w=Object(a.useState)(!1),k=Object(b.a)(w,2),C=k[0],A=k[1],S=Object(a.useState)(O),W=Object(b.a)(S,2),Y=W[0],B=W[1],I=function(e){return B((function(t){return Object(j.a)(Object(j.a)({},t),e)}))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(p.a.Body,{children:[Object.keys(c).sort().map((function(e,t){var n=d&&Object.keys(d).length>0?function(e){var t,n,a=le.a.findBestMatch(e,Object.keys(d)||Object.key(c));return(null===a||void 0===a||null===(t=a.bestMatch)||void 0===t?void 0:t.rating)>.6?null===a||void 0===a||null===(n=a.bestMatch)||void 0===n?void 0:n.target:e}(e):e;return Object(ce.jsx)(re,{activeItem:o,onChangeHoursWorked:l,setHourlyRate:r,name:e,deleteWorkerData:u,data:c[e],invoiceDataKeys:Object.keys(c),no:t+1,cardData:d&&d[n]||{}},e)})),"Total"!==o&&Object(ce.jsxs)(p.a.Row,{textAlign:"center",children:[Object(ce.jsx)(p.a.Cell,{}),Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(D.a.Field,{children:Object(ce.jsx)(M.a,{style:{width:"100%"},error:C,type:"text",placeholder:"Worker",children:Object(ce.jsx)("input",{value:Y.worker,onChange:function(e){A(!!Object.keys(c).includes(e.target.value)),I({worker:e.target.value})}})})})}),Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(D.a.Field,{children:Object(ce.jsx)(M.a,{error:!g,type:"text",placeholder:"Hours Worked",children:Object(ce.jsx)("input",{style:{width:"100%"},value:Y.hoursWorked,onChange:function(e){if(/^\d+:[0-5][0-9]$/.test(e.target.value)){var t=e.target.value.split(":"),n=f.a.utc(10*parseInt(t[1]/10)*6e4).format("mm"),a=t[0]+":"+n,c=Number(t[0])+Number(n)/60,r=c*Y.hourlyRate,i=60*Number(t[0])*60+60*Number(t[0]);I({hoursWorked:e.target.value,hoursBilled:a,totalInUSD:r,hours:c,timeWorked:i}),y(!0)}else I({hoursWorked:e.target.value}),y(!1)}})})})}),Object(ce.jsx)(p.a.Cell,{children:Y.hoursBilled}),Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(T.a,{search:!0,onChange:function(e,t){I({hourlyRate:Number(t.value),totalInUSD:Number(t.value)*Y.hours})},value:Y.hourlyRate.toFixed(2),fluid:!0,selection:!0,options:ae(1,25,.01).map((function(e){return{key:e.toFixed(2),value:e.toFixed(2),text:"$"+e.toFixed(2)}}))})}),Object(ce.jsxs)(p.a.Cell,{children:["$",Y.totalInUSD.toFixed(2)]}),h&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(p.a.Cell,{}),Object(ce.jsx)(p.a.Cell,{})]}),Object(ce.jsx)(p.a.Cell,{children:Object(ce.jsx)(v.a,{onClick:function(){C?alert("Worker already exist"):g?(s(Y.worker,Y),B(O)):alert("Invalid time(Hours Worked)")},children:"Add"})})]})]}),Object(ce.jsx)(p.a.Footer,{children:Object(ce.jsxs)(p.a.Row,{children:[Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("br",{})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{children:"Total"})}),"Total"!==o&&Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{children:i.hoursWorked})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{children:i.hoursBilled})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsxs)("b",{children:["$",null===(t=i.usd)||void 0===t||null===(n=t.toFixed(2))||void 0===n?void 0:n.toString()]})}),h&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{})})]}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{})})]})})]})},de=Object(B.b)({name:"projects",initialState:{list:{}},reducers:{storeProjects:function(e,t){e.list=t.payload}}}),se=de.actions.storeProjects,je=function(e){return e.projects.list},be=de.reducer,ue=n(3),he=n.n(ue),Oe=n(15),xe=n(651),fe=n(672),ve=n(212),me=n(58),ge={apiKey:"AIzaSyBzyQCY01AI8nuQheTLjPXxCcgtNy82CX4",authDomain:"invoice-automation-teronext.firebaseapp.com",databaseURL:"https://invoice-automation-teronext-default-rtdb.firebaseio.com",projectId:"invoice-automation-teronext",storageBucket:"invoice-automation-teronext.appspot.com",messagingSenderId:"890668541129",appId:"1:890668541129:web:7b0409f948225a1ca21918",measurementId:"G-XRYFBBTF2K"},pe=function(){var e=Object(xe.a)(ge),t=Object(fe.a)(e),n=Object(ve.d)(Object(ve.c)(e)),a=Object(me.f)(e);return{app:e,analytics:t,dbRef:n,fireStore:a,getTestData:function(){return Object(ve.b)(Object(ve.a)(n,"test"))},getProjectsList:function(){var e=Object(Oe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(me.e)(Object(me.a)(a,"project")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setProject:function(e,t){return Object(me.h)(Object(me.c)(a,"project",e),t)},addProject:function(e){return Object(me.h)(Object(me.c)(Object(me.a)(a,"project")),e)},getUser:function(){var e=Object(Oe.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(me.e)(Object(me.g)(Object(me.a)(a,"user"),Object(me.i)("username","==",t))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setInvoiceAppInfo:function(e){return Object(me.h)(Object(me.c)(a,"app","invoice"),e)},deleteProject:function(e){return Object(me.b)(Object(me.c)(a,"project",e))},getInvoiceAppInfo:function(){return Object(me.d)(Object(me.c)(a,"app","invoice"))}}},ye={HOME:"/",PROJECTS:"/proects",LOGIN:"/login",WEEK_INVOICE:"/week_invoice",INVOICE:"/invoice",MONTH_INVOICE:"/month_invoice",DOWNLOAD_INVOICE:"/download_invoice"},we=function(){var e=Object(o.f)(),t=Object(a.useState)("home"),n=Object(b.a)(t,2),c=n[0],r=n[1],i=function(t,n){var a=n.name;r(a),e(a)};return Object(ce.jsxs)("div",{style:{margin:"20px 40px"},children:[Object(ce.jsx)("h1",{children:"Invoice Automation"}),Object(ce.jsx)("br",{}),Object(ce.jsxs)(k.a,{size:"mini",children:[Object(ce.jsx)(k.a.Item,{children:"Home",name:ye.HOME,active:c===ye.HOME,onClick:i}),Object(ce.jsx)(k.a.Item,{children:"Projects",name:ye.PROJECTS,active:c===ye.PROJECTS,onClick:i}),Object(ce.jsx)(k.a.Menu,{position:"right",children:Object(ce.jsxs)(k.a.Item,{children:[Object(ce.jsx)("span",{style:{marginRight:10},children:Object(ce.jsx)("b",{})}),Object(ce.jsx)(v.a,{onClick:function(){localStorage.removeItem("authAccess"),e("/login")},primary:!0,children:"Sign Out"})]})})]})]})},ke=(n(727),n(653)),De=(n(2978),function(e){var t=e.activeItem,n=Object(N.c)(J);return Object(ce.jsx)(p.a.Header,{children:Object(ce.jsxs)(p.a.Row,{style:{textAlign:"center"},children:[Object(ce.jsx)(p.a.HeaderCell,{children:"#"}),Object(ce.jsx)(p.a.HeaderCell,{style:{textAlign:"left"},children:"Worker"}),"Total"!==t&&Object(ce.jsx)(p.a.HeaderCell,{width:"2",children:"Hours Worked"}),Object(ce.jsx)(p.a.HeaderCell,{width:"2",children:"Hours Billed"}),Object(ce.jsx)(p.a.HeaderCell,{width:"2",children:"Hourly Rate"}),Object(ce.jsx)(p.a.HeaderCell,{width:"2",children:"Total in USD"}),n&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(p.a.HeaderCell,{width:"2",children:"Number of tickets Assigned"}),Object(ce.jsx)(p.a.HeaderCell,{width:"2",children:"Avg age (in working days)"})]}),Object(ce.jsx)(p.a.HeaderCell,{})]})})}),Te=(new ke.Version2Client({host:"https://anshad.atlassian.net",authentication:{basic:{email:"muhammad.anshad@teronext.com",password:"9645542515@Teronext"}}}),function(){var e=Object(o.f)();Object(a.useEffect)((function(){localStorage.getItem("authAccess")||e("/login")}),[]);var t=pe(),n=(t.getTestData,t.getProjectsList),c=t.getInvoiceAppInfo,r=Object(N.c)(je),i=Object(N.c)($),l=Object(N.c)(V),u=Object(N.c)(U),x=Object(N.c)(z),B=(Object(N.c)(Q),Object(N.c)(J));console.log({weekInvoiceData:i});var I=Object(a.createRef)(),_=Object(a.createRef)(),L=Object(a.useState)("Teronext Consulting\nA3 Alsa Woodbine Line Road\nThycaud Trivandrum\nKerala India\n\n\nPh: +91 7907 881 319\nPayment method - via Remote.com"),K=Object(b.a)(L,2),G=K[0],X=K[1],Z=Object(a.useState)(""),ae=Object(b.a)(Z,2),re=ae[0],ie=ae[1],le=Object(a.useState)([]),de=Object(b.a)(le,2),be=de[0],ue=de[1],he=Object(a.useState)(Object.keys(r)[0]||""),Oe=Object(b.a)(he,2),xe=Oe[0],fe=Oe[1],ve=Object(a.useState)(0),me=Object(b.a)(ve,2),ge=me[0],ke=me[1],Te=Object(a.useState)(0),Me=Object(b.a)(Te,2),Ce=Me[0],Ae=Me[1],Se=Object(a.useState)(),We=Object(b.a)(Se,2),Ye=We[0],Ne=We[1],Be=Object(a.useState)("Week1"),Ie=Object(b.a)(Be,2),_e=Ie[0],Pe=Ie[1],Fe=Object(a.useState)(),He=Object(b.a)(Fe,2),Re=He[0],Ee=He[1],$e=Object(a.useState)("week"),Ue=Object(b.a)($e,2),ze=Ue[0],Ve=Ue[1],Qe=Object(a.useState)(0),Le=Object(b.a)(Qe,2),Ke=Le[0],Ge=Le[1],qe=Object(a.useState)({show:!1,key:null}),Je=Object(b.a)(qe,2),Xe=Je[0],Ze=Je[1],et=Object(N.b)(),tt=Object(a.useState)([new Date,new Date]),nt=Object(b.a)(tt,2),at=nt[0],ct=nt[1],rt=Object(a.useState)([new Date,new Date]),it=Object(b.a)(rt,2),lt=it[0],ot=(it[1],Object(a.useState)()),dt=Object(b.a)(ot,2),st=dt[0],jt=dt[1];Object(a.useEffect)((function(){}),[]);var bt=function(e,t){var n=t.name;return Pe(n)};Object(a.useEffect)((function(){n().then((function(e){var t=e.docs.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t.id,t.data()))}),{});et(se(t)),fe(Object.keys(t)[0]||"")}))}),[]),Object(a.useEffect)((function(){c().then((function(e){e.exists()&&(Ge(Number(e.data().last_invoice_number)+1),et(E(e.data())))}))}),[]);var ut=function(){return Ze((function(e){return Object(j.a)(Object(j.a)({},e),{},{show:!1})}))},ht=function(e){Ze({show:!0,key:e})},Ot=function(e,t){var n=Object(j.a)(Object(j.a)({},i[_e].data),{},Object(s.a)({},e,Object(j.a)(Object(j.a)({},i[_e].data[e]),t))),a=mt(n),c=Object(j.a)(Object(j.a)({},i),{},Object(s.a)({},_e,Object(j.a)(Object(j.a)({},i[_e]),{},{data:n,total:a})));gt(c),alert("Added worker data successfully")},xt=function(){var e=Object.keys(i[_e].data).filter((function(e){return e!==Xe.key})).reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t,i[_e].data[t]))}),{}),t=mt(e),n=Object(j.a)(Object(j.a)({},i),{},Object(s.a)({},_e,Object(j.a)(Object(j.a)({},i[_e]),{},{data:e,total:t})));gt(n),Ze({show:!1}),alert("deleted successfully!")},ft=function(e,t){var n=t.split(":"),a=f.a.utc(10*parseInt(n[1]/10)*6e4).format("mm"),c=n[0]+":"+a,r=Number(n[0])+Number(a)/60,l=r*i[_e].data[e].hourlyRate,o=Object(j.a)(Object(j.a)({},i[_e].data),{},Object(s.a)({},e,Object(j.a)(Object(j.a)({},i[_e].data[e]),{},{hoursWorked:t,hoursBilled:c,hours:r,totalInUSD:l}))),d=mt(o),b=Object(j.a)(Object(j.a)({},i),{},Object(s.a)({},_e,Object(j.a)(Object(j.a)({},i[_e]),{},{data:o,total:d})));gt(b)},vt=function(e,t){var n=Object.keys(i).reduce((function(n,a){var c,r,l,o=Object(j.a)(Object(j.a)({},i[a].data),!!(null===(c=i[a])||void 0===c?void 0:c.data[e])&&Object(s.a)({},e,Object(j.a)(Object(j.a)({},i[a].data[e]),{},{hourlyRate:t,totalInUSD:t*(null===(r=i[a])||void 0===r||null===(l=r.data[e])||void 0===l?void 0:l.hours)||0}))),d=mt(o);return Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},a,Object(j.a)(Object(j.a)({},i[a]),{},{data:o,total:d})))}),{});et(P(n))},mt=function(e){return{hoursWorked:Object.values(e).map((function(e){return e.hoursWorked})).reduce((function(e,t){var n=te(e),a=te(t);return ee(n+a)}),"00:00"),hoursBilled:Object.values(e).map((function(e){return e.hoursBilled})).reduce((function(e,t){var n=te(e),a=te(t);return ee(n+a)}),"00:00"),usd:Object.values(e).map((function(e){return e.totalInUSD})).reduce((function(e,t){return e+Number(t)}),0)}},gt=function(e){var t=Object.keys(e).filter((function(e){return"Total"!==e})).reduce((function(t,n){var a=e[n];return[].concat(Object(d.a)(t),Object(d.a)(Object.keys(a.data).map((function(e){return a.data[e]}))))}),[]).reduce((function(e,t){return Object.keys(e).includes(t.worker)?Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t.worker,[].concat(Object(d.a)(e[t.worker]),[t.hoursBilled]))):Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t.worker,[t.hoursBilled]))}),{}),n=Object.keys(t).reduce((function(e,n){var a=t[n].reduce((function(e,t){return e+te(t)}),0),c=ee(a),r=c.split(":"),i=f.a.utc(10*parseInt(r[1]/10)*6e4).format("mm"),l=r[0]+":"+i,o=Number(r[0])+Number(i)/60,d=1*o;return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},n,{worker:n,timeWorked:a,hoursWorked:c,hoursBilled:l,hours:o,totalInUSD:d,hourlyRate:1}))}),{}),a=mt(n);et(P(Object(j.a)(Object(j.a)({},e),{},{Total:{data:n,total:a,start:null===Ye||void 0===Ye?void 0:Ye.toISOString(),end:null===Re||void 0===Re?void 0:Re.toISOString()}})))};Object(a.useEffect)((function(){!function(e,t,n){for(var a=[],c=new Date(e),r=new Date(t).getDate(),i=c.getDate(),l=c.getDay(),o=i;o<=r;o++)l!==n&&0!==a.length||a.push([]),a[a.length-1].push(o),l=(l+1)%7;a.filter((function(e){return!!e.length})).map((function(e){return{start:e[0],end:e[e.length-1],dates:e}}))}(new Date(at[0]),new Date(at[1]),1);var e=function(e,t,n){for(var a=[],c=f()(e),r=f()(t),i=c.day(),l=c;f()(l.startOf("day")).isSameOrBefore(r.startOf("day"));l=l.add(1,"days"))i!==n&&0!==a.length||a.push([]),a[a.length-1].push(l.toDate()),i=(i+1)%7;return a.filter((function(e){return!!e.length})).map((function(e){return{start:e[0],end:e[e.length-1],dates:e}}))}(new Date(at[0]),new Date(at[1]),1),t=e.reduce((function(e,t,n){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},"Week"+(n+1),function(e,t){var n=be.filter((function(n){var a=new Date(n.start_time);return f()(a).isBetween(f()(e).startOf("day"),f()(t).endOf("day"))})).reduce((function(e,t){var n=(t.workers||"").toLowerCase().replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}));return Object.keys(e).includes(n)?Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},n,[].concat(Object(d.a)(e[n]),[t]))):Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},n,[t]))}),{}),a=Object.keys(n).reduce((function(e,t){var a=t,c=n[t].reduce((function(e,t){return e+parseInt(t.duration_seconds)}),0),r=parseInt(Number(c)/3600),i=f.a.utc(1e3*parseInt(c-3600*r)).format("mm"),l=r+":"+i,o=10*parseInt(i/10),d=r+":"+f.a.utc(6e4*o).format("mm"),b=r+o/60;return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t,{worker:a,timeWorked:c,hoursWorked:l,hoursBilled:d,hours:b,hourlyRate:1,totalInUSD:b}))}),{});return{data:a,total:mt(a),start:e.toISOString(),end:t.toISOString()}}(t.start,t.end)))}),{}),n=e.reduce((function(e,t,n){f()(t.start).day(3).subtract(1,"weeks").format("YYYY/MM/DD"),f()(t.start).day(3).format("YYYY/MM/DD");return 0===f()(t.start).weekday()?Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},"Week"+(n+1),{start:f()(t.start).subtract(1,"weeks").day(3).subtract(1,"weeks").format("YYYY/MM/DD"),end:f()(t.start).subtract(1,"weeks").day(3).format("YYYY/MM/DD")})):f()(t.start).weekday()>3?Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},"Week"+(n+1),{start:f()(t.start).day(3).subtract(1,"weeks").format("YYYY/MM/DD"),end:f()(t.start).day(3).format("YYYY/MM/DD")})):f()(t.end).weekday()<3&&0!==f()(t.end).weekday()?Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},"Week"+(n+1),{start:f()(t.start).subtract(1,"weeks").day(3).subtract(1,"weeks").format("YYYY/MM/DD"),end:f()(t.start).subtract(1,"weeks").day(3).format("YYYY/MM/DD")})):f()(t.start).weekday()<3&&(f()(t.end).weekday()>=3||0===f()(t.end).weekday())?Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},"Week"+(n+1),{start:f()(t.start).day(3).subtract(1,"weeks").format("YYYY/MM/DD"),end:f()(t.start).day(3).format("YYYY/MM/DD")})):Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},"Week"+(n+1),{start:null,end:null}))}),{});jt(n),et(P(t)),gt(t)}),[at]);var pt=function(e){ct(e)};Object(a.useEffect)((function(){if(u){var e=URL.createObjectURL(u);Object(O.a)(e,{header:!0,skipEmptyLines:!0,complete:function(e){var t=e.data;ue(t);var n=t.map((function(e){return f()(e.start_time)}));Ne(f.a.min(n).startOf("day").toDate()),Ee(f.a.max(n).endOf("day").toDate()),ct([f.a.min(n).startOf("day").toDate(),f.a.max(n).endOf("day").toDate()])}})}}),[u]);var yt=function(e){return Object.values(e).reduce((function(e,t,n){return Object(j.a)(Object(j.a)({},e),Object.keys(t).reduce((function(n,a){if(Object.keys(e).includes(a)){var c,r,i,l,o,b,u,h,O,x,f,v,m,g,p,y,w=((null===(c=t[a].total)||void 0===c?void 0:c.cardTotal)||0)+((null===(r=e[a].total)||void 0===r?void 0:r.cardTotal)||0),k={asTeamMember:(null===(i=t[a])||void 0===i||null===(l=i.total)||void 0===l||null===(o=l.totalDays)||void 0===o?void 0:o.asTeamMember)+(null===(b=e[a])||void 0===b||null===(u=b.total)||void 0===u||null===(h=u.totalDays)||void 0===h?void 0:h.asTeamMember),asQAPerson:(null===(O=t[a])||void 0===O||null===(x=O.total)||void 0===x||null===(f=x.totalDays)||void 0===f?void 0:f.asQAPerson)+(null===(v=e[a])||void 0===v||null===(m=v.total)||void 0===m||null===(g=m.totalDays)||void 0===g?void 0:g.asQAPerson)},D={asTeamMember:(Number(k.asTeamMember)/Number(w)).toFixed(1),asQAPerson:(Number(k.asQAPerson)/Number(w)).toFixed(1)};return Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},a,{cards:[].concat(Object(d.a)((null===(p=e[a])||void 0===p?void 0:p.cards)||[]),Object(d.a)((null===(y=t[a])||void 0===y?void 0:y.cards)||[])),role:t[a].role,total:{cardTotal:w,totalDays:k,average:D}}))}return Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},a,t[a]))}),{}))}),{})};Object(a.useEffect)((function(){var e,t;x&&x[_e]&&(null===(e=x[_e])||void 0===e||null===(t=e.text())||void 0===t||t.then((function(e){var t=JSON.parse(e),n=Object.keys(t).reduce((function(e,n){var a=(t[n]||[]).filter((function(e){return!!e})).map((function(e){var t,n,a,c=e.key,r=e.changelog.histories,i=function(e){for(var t,n=0,a=null===(t=r.find((function(t){return t.items[0].toString.toUpperCase()===e[n]})))||void 0===t?void 0:t.created;!a&&n+1<e.length;){var c;n+=1,a=null===(c=r.find((function(t){return t.items[0].toString.toUpperCase()===e[n]})))||void 0===c?void 0:c.created}return a},l=null===(t=r.find((function(e){return"IN PROGRESS"===e.items[0].toString.toUpperCase()||"Parent"===e.items[0].field||"assignee"===e.items[0].field})))||void 0===t?void 0:t.created,o=l;st&&st[_e]&&f()(l).isBefore(st[_e].start)?l=st[_e].start:st&&st[_e]&&f()(l).isAfter(st[_e].end)&&(l=st[_e].end);var d=i(["IN PEER REVIEW","NEEDS QA","IN QA","IN DEV","DONE"]),s=d;d&&!f()(f()(d).format("YYYY/MM/DD")).isBefore(f()(l).format("YYYY/MM/DD"))||(d=l),st&&st[_e]&&f()(d).isBefore(st[_e].start)?d=st[_e].start:st&&st[_e]&&f()(d).isAfter(st[_e].end)&&(d=st[_e].end);var j=i(["IN QA","QA PASSED","READY FOR STAGING","IN STAGING","IN DEV","DONE"]),b=j;j&&!f()(f()(j).format("YYYY/MM/DD")).isBefore(f()(d).format("YYYY/MM/DD"))||(j=d),st&&st[_e]&&f()(j).isBefore(st[_e].start)?j=st[_e].start:st&&st[_e]&&f()(j).isAfter(st[_e].end)&&(j=st[_e].end);var u=i(["QA PASSED","READY FOR STAGING","IN STAGING","IN DEV","DONE"]),h=u;u||(u=j),st&&st[_e]&&f()(u).isBefore(st[_e].start)?u=st[_e].start:st&&st[_e]&&f()(u).isAfter(st[_e].end)&&(u=st[_e].end);var O=null===(n=f()())||void 0===n?void 0:n.isoWeekdayCalc({rangeStart:l,rangeEnd:d,weekdays:[1,2,3,4,5]});return{cardName:c,todoDate:l,inPeerReview:d,inQADate:j,inStagingDate:u,noOfDaysWorkedAsQAPerson:null===(a=f()())||void 0===a?void 0:a.isoWeekdayCalc({rangeStart:j,rangeEnd:u,weekdays:[1,2,3,4,5]}),noOfDaysWorkedAsTeamMember:O,actualInPeerReview:s,actualInQADate:b,actualInStagingDate:h,actualToDoDate:o}})),c=a.length,r=a.reduce((function(e,t){return{asTeamMember:e.asTeamMember+t.noOfDaysWorkedAsTeamMember,asQAPerson:e.asQAPerson+t.noOfDaysWorkedAsQAPerson}}),{asTeamMember:0,asQAPerson:0}),i={asTeamMember:(Number(r.asTeamMember)/Number(c)).toFixed(1),asQAPerson:(Number(r.asQAPerson)/Number(c)).toFixed(1)};return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},n,{cards:a,role:"Team Member",total:{cardTotal:c,totalDays:r,average:i}}))}),{}),a=Object(j.a)(Object(j.a)({},l),{},Object(s.a)({},_e,n));delete a.Total;var c=yt(a);et(R(Object(j.a)(Object(j.a)({},a),{},{Total:c})))})))}),[x,lt]),Object(a.useEffect)((function(){}),[l]),Object(a.useEffect)((function(){xe&&r[xe]&&("week"===ze?(ie(r[xe].weekly_invoice_address),ke(r[xe].week_balance),Pe("Week1")):"month"===ze&&(ie(r[xe].monthly_invoice_address),ke(r[xe].month_balance),Pe("Total")))}),[ze,xe]);var wt="month"===ze,kt="week"===ze,Dt=function(){var e,t,n,a,c="Invoice #".concat(ne(Number(Ke),4)),r="".concat(f()(null===(e=i[_e])||void 0===e?void 0:e.start).format("MMMM D ,YYYY ")," through ").concat(f()(null===(t=i[_e])||void 0===t?void 0:t.end).format("MMMM D ,YYYY ")),o=(null===(n=i[_e])||void 0===n?void 0:n.total)||{},d=(null===(a=i[_e])||void 0===a?void 0:a.data)||{};return Object(ce.jsxs)(m.a,{children:[Object(ce.jsx)(g.a,{as:"h5",children:c}),Object(ce.jsxs)(g.a,{as:"h5",children:["Period: ",r]}),Object(ce.jsxs)(p.a,{celled:!0,striped:!0,children:[Object(ce.jsx)(De,{activeItem:_e}),Object(ce.jsx)(oe,{activeItem:_e,onChangeHoursWorked:ft,data:be,total:o,addWorkerData:Ot,deleteWorkerData:ht,invoiceData:d,setHourlyRate:vt,cardData:l[_e]})]})]})},Tt=function(){return I.current.click()},Mt=function(){return _.current.click()},Ct=function(){var e=Object(j.a)({},l);delete e[_e],delete e.Total;var t=Object(j.a)({},x);delete t[_e],et(H(t));var n=yt(e);et(R(Object(j.a)(Object(j.a)({},e),{},{Total:n})))},At=function(){if("Total"!==_e){var e;if(x&&x[_e])return Object(ce.jsxs)("div",{style:{marginBottom:20,width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(ce.jsxs)(v.a,{as:"div",labelPosition:"left",children:[Object(ce.jsx)(y.a,{as:"a",basic:!0,pointing:"right",children:x[_e].name}),Object(ce.jsx)(v.a,{positive:!0,onClick:Mt,icon:!0,children:"Change"})]}),Object(ce.jsx)(v.a,{negative:!0,onClick:Ct,icon:!0,children:"Remove"})]});var t=x&&x[_e]?"Change .json file":"Add a .json file",n=!x||(null===(e=x[_e])||void 0===e?void 0:e.name)||"Upload Jira data";return Object(ce.jsx)("div",{className:"csv-selector",children:Object(ce.jsxs)(m.a,{placeholder:!0,children:[Object(ce.jsxs)(g.a,{icon:!0,children:[Object(ce.jsx)(w.a,{name:"file code outline"}),n]}),Object(ce.jsxs)(v.a,{onClick:Mt,primary:!0,children:[" ",t]})]})})}},St=Object.keys(i).length>0,Wt=u&&i&&St,Yt=function(e){e.target.files.length>0&&(et(F(e.target.files[0])),_.current.value="")},Nt=function(e){e.target.files.length>0&&(et(H(Object(j.a)(Object(j.a)({},x),{},Object(s.a)({},_e,e.target.files[0])))),_.current.value="")},Bt=function(){var e=Object.keys(i).filter((function(e){return"Total"!==e})).map((function(e){var t=f()(i[e].start).format("DD/MM/YY"),n=f()(i[e].end).format("DD/MM/YY");return{key:e,value:e,text:"".concat(e,": ").concat(t," - ").concat(n)}}));return kt&&Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:"Select Week"}),Object(ce.jsx)(T.a,{value:_e,placeholder:"Select week",selection:!0,onChange:function(e,t){return Pe(t.value)},options:e})]})},It=function(){var e="Total estimate for the month of ".concat(f()(at[0]).add(1,"month").format("MMMM"));return"month"===ze&&Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:e}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Amount",children:[Object(ce.jsx)(y.a,{basic:!0,children:"$"}),Object(ce.jsx)("input",{value:Ce,onChange:function(e){Ae(e.target.value)}})]})]})},_t=Object(a.useState)(),Pt=Object(b.a)(_t,2),Ft=Pt[0],Ht=Pt[1],Rt=function(e,t){var n=Ft===t.index?-1:t.index;Ht(n)},Et=function(){return l&&l[_e]?Object.keys(l[_e]).map((function(e,t){var n,a,c,r,i,o,d,b,u,h,O,x,v,m,g,y,k,D,M,A,S,W,Y;return Object(ce.jsxs)(C.a,{fluid:!0,styled:!0,children:[Object(ce.jsx)(C.a.Title,{active:Ft===t,index:t,onClick:Rt,children:Object(ce.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ce.jsxs)("div",{children:[Object(ce.jsx)(w.a,{name:"dropdown"}),e]}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("b",{children:["Total No of Cards: ",null===(n=l[_e][e])||void 0===n||null===(a=n.total)||void 0===a?void 0:a.cardTotal]}),",\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(ce.jsxs)("b",{children:["Average: ","Team Member"===l[_e][e].role?null===(c=l[_e][e])||void 0===c||null===(r=c.total)||void 0===r||null===(i=r.average)||void 0===i?void 0:i.asTeamMember:null===(o=l[_e][e])||void 0===o||null===(d=o.total)||void 0===d||null===(b=d.average)||void 0===b?void 0:b.asQAPerson]})]})]})}),Object(ce.jsx)(C.a.Content,{active:Ft===t,children:Object(ce.jsxs)(p.a,{celled:!0,children:[Object(ce.jsxs)(p.a.Header,{children:[Object(ce.jsx)(p.a.Row,{children:Object(ce.jsx)(p.a.HeaderCell,{colSpan:"7",children:Object(ce.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(ce.jsxs)("span",{children:[e," :"]}),Object(ce.jsx)(T.a,{onChange:function(t,n){return function(e,t){var n=Object(j.a)(Object(j.a)({},l),{},Object(s.a)({},_e,Object(j.a)(Object(j.a)({},l[_e]),{},Object(s.a)({},t,Object(j.a)(Object(j.a)({},l[_e][t]),{},{role:e})))));et(R(n))}(n.value,e)},style:{width:200,border:0,backgroundColor:"#f9fafb"},placeholder:"Select Role",fluid:!0,value:l[_e][e].role,selection:!0,options:[{key:"Team Member",text:"Team Member",value:"Team Member"},{key:"QA Person",text:"QA Person",value:"QA Person"}]})]})})}),Object(ce.jsxs)(p.a.Row,{children:[Object(ce.jsx)(p.a.HeaderCell,{textAlign:"center",width:"2",children:"Card No"}),Object(ce.jsx)(p.a.HeaderCell,{children:"Card Title"}),Object(ce.jsx)(p.a.HeaderCell,{children:"In Progress"}),Object(ce.jsx)(p.a.HeaderCell,{children:"In Peer Review"}),Object(ce.jsx)(p.a.HeaderCell,{children:"In QA"}),Object(ce.jsx)(p.a.HeaderCell,{children:"In Staging"}),Object(ce.jsx)(p.a.HeaderCell,{textAlign:"center",width:"3",children:"No of Days"})]})]}),Object(ce.jsx)(p.a.Body,{children:null===(u=l[_e][e].cards)||void 0===u?void 0:u.map((function(t,n){return Object(ce.jsxs)(p.a.Row,{children:[Object(ce.jsx)(p.a.Cell,{textAlign:"center",children:n+1}),Object(ce.jsx)(p.a.Cell,{children:t.cardName}),Object(ce.jsx)(p.a.Cell,{children:f()(t.todoDate).format("DD/MM/YYYY")}),Object(ce.jsx)(p.a.Cell,{children:f()(t.inPeerReview).format("DD/MM/YYYY")}),Object(ce.jsx)(p.a.Cell,{children:f()(t.inQADate).format("DD/MM/YYYY")}),Object(ce.jsx)(p.a.Cell,{children:f()(t.inStagingDate).format("DD/MM/YYYY")}),Object(ce.jsx)(p.a.Cell,{textAlign:"center",children:"Team Member"===l[_e][e].role?t.noOfDaysWorkedAsTeamMember:t.noOfDaysWorkedAsQAPerson})]})}))}),Object(ce.jsxs)(p.a.Footer,{children:[Object(ce.jsxs)(p.a.Row,{children:[Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsxs)("b",{children:["Total No of Cards: ",null===(h=l[_e][e])||void 0===h||null===(O=h.total)||void 0===O?void 0:O.cardTotal]})}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsxs)("b",{children:["Total No of Days: ","Team Member"===l[_e][e].role?null===(x=l[_e][e])||void 0===x||null===(v=x.total)||void 0===v||null===(m=v.totalDays)||void 0===m?void 0:m.asTeamMember:null===(g=l[_e][e])||void 0===g||null===(y=g.total)||void 0===y||null===(k=y.totalDays)||void 0===k?void 0:k.asQAPerson]})})]}),Object(ce.jsxs)(p.a.Row,{children:[Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsx)("b",{})}),Object(ce.jsx)(p.a.HeaderCell,{children:Object(ce.jsxs)("b",{children:["Average: ","Team Member"===l[_e][e].role?null===(D=l[_e][e])||void 0===D||null===(M=D.total)||void 0===M||null===(A=M.average)||void 0===A?void 0:A.asTeamMember:null===(S=l[_e][e])||void 0===S||null===(W=S.total)||void 0===W||null===(Y=W.average)||void 0===Y?void 0:Y.asQAPerson]})})]})]})]})})]})})):$t()},$t=function(){return"Total"===_e&&Object(ce.jsxs)(A.a,{warning:!0,children:[Object(ce.jsx)(A.a.Header,{children:"No details found!"}),Object(ce.jsx)("p",{children:"Please upload card details for all the weeks."})]})};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(we,{}),Object(ce.jsxs)("div",{className:"home-container",children:[Object(ce.jsx)(S.a,{open:Xe.show,content:Object(ce.jsxs)("div",{style:{padding:30,fontSize:16},children:["Are you sure you want to delete ",Object(ce.jsxs)("b",{children:[Xe.key," "]}),"from the list? "]}),onCancel:ut,onConfirm:xt}),Object(ce.jsxs)(Y.a,{children:[Object(ce.jsx)(Y.a.Column,{mobile:16,tablet:5,computer:5,children:function(){var e,t=Object.keys(r).map((function(e){return{key:e,value:e,text:r[e].name}})),n="Starting ".concat(kt?"week":"monthly"," balance"),a="Ending ".concat(kt?"week":"monthly"," balance"),c=wt?i.Total:i[_e],l=(Number(ge)-Number(null===c||void 0===c||null===(e=c.total)||void 0===e?void 0:e.usd.toFixed(2))).toFixed(2);return Object(ce.jsxs)(D.a,{children:[Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:"Period"}),Object(ce.jsx)("div",{id:"date-range-picker",children:Object(ce.jsx)(h.a,{onChange:pt,value:at})})]}),Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:"Invoice Number"}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Amount",children:[Object(ce.jsx)(y.a,{basic:!0,children:"#"}),Object(ce.jsx)("input",{value:Ke,onChange:function(e){return Ge(e.target.value)}})]})]}),Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:"Project"}),Object(ce.jsx)(T.a,{value:xe,placeholder:"Project",search:!0,selection:!0,onChange:function(e,t){return fe(t.value)},options:t})]}),Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:"Invoice Mode"}),Object(ce.jsx)(T.a,{value:ze,placeholder:"Select invoice mode",selection:!0,onChange:function(e,t){return Ve(t.value)},options:[{key:"week",value:"week",text:"Week"},{key:"month",value:"month",text:"Month"}]})]}),Bt(),Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:n}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Amount",children:[Object(ce.jsx)(y.a,{basic:!0,children:"$"}),Object(ce.jsx)("input",{value:ge,onChange:function(e){return ke(e.target.value)}})]})]}),Object(ce.jsxs)(D.a.Field,{children:[Object(ce.jsx)("label",{children:a}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Amount",children:[Object(ce.jsx)(y.a,{basic:!0,children:"$"}),Object(ce.jsx)("input",{value:l,readOnly:!0,onChange:function(e){}})]})]}),It(),Object(ce.jsx)(D.a.TextArea,{label:"From",placeholder:"From Address...",value:G,onChange:function(e){return X(e.target.value)}}),Object(ce.jsx)(D.a.TextArea,{label:"To",placeholder:"To Address...",onChange:function(e){return ie(e.target.value)},value:re})]})}()}),Object(ce.jsxs)(Y.a.Column,{mobile:16,tablet:11,computer:11,children:[Object(ce.jsx)("input",{hidden:!0,onChange:Yt,accept:".csv",ref:I,type:"file"}),Object(ce.jsx)("input",{hidden:!0,onChange:Nt,accept:".json",ref:_,type:"file"}),function(){if(u)return Object(ce.jsx)("div",{style:{marginBottom:20},children:Object(ce.jsxs)(v.a,{as:"div",labelPosition:"left",children:[Object(ce.jsx)(y.a,{as:"a",basic:!0,pointing:"right",children:u.name}),Object(ce.jsx)(v.a,{onClick:Tt,icon:!0,children:"Change"})]})});var e=u?"Change document":"Add a .csv file",t=(null===u||void 0===u?void 0:u.name)||"Upload TopTracker Report";return Object(ce.jsx)("div",{className:"csv-selector",children:Object(ce.jsxs)(m.a,{placeholder:!0,children:[Object(ce.jsxs)(g.a,{icon:!0,children:[Object(ce.jsx)(w.a,{name:"file alternate outline"}),t]}),Object(ce.jsxs)(v.a,{onClick:Tt,primary:!0,children:[" ",e]})]})})}(),Wt&&Object(ce.jsxs)("div",{children:[wt&&Object(ce.jsx)(k.a,{color:"blue",secondary:!0,className:"menu",children:(Object.keys(i)||[]).map((function(e,t){return Object(ce.jsx)(k.a.Item,{name:e,active:_e===e,children:e,onClick:bt})}))}),Dt()]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(ce.jsxs)("span",{style:{alignItems:"center",display:"flex"},children:[Object(ce.jsx)("span",{style:{paddingRight:10},children:"Enable card calculation"}),Object(ce.jsx)(W.a,{onClick:function(e,t){et(q())},toggle:!0,checked:B})]}),B&&Object(ce.jsx)("span",{children:Object(ce.jsx)("a",{href:"https://invoice-automation.bubbleapps.io/version-test",target:"_blank",children:"Open Jira Connector"})})]}),function(){var e,t;return B&&Object(ce.jsxs)(m.a,{children:[st&&"Total"!==_e&&Object(ce.jsxs)(g.a,{as:"h5",children:["Sprint: ","".concat((null===(e=st[_e])||void 0===e?void 0:e.start)||"--"," : ").concat((null===(t=st[_e])||void 0===t?void 0:t.end)||"--")]}),At(),Et()]})}(),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),function(){var t,n,a,c=wt?null===i||void 0===i?void 0:i.Total:i[_e],o=(null===c||void 0===c?void 0:c.data)||{},d=(null===c||void 0===c?void 0:c.total)||{},s=ne(Number(Ke),4),j=null===(t=r[xe])||void 0===t?void 0:t.name,b=null===(n=Number(ge)-Number(null===d||void 0===d||null===(a=d.usd)||void 0===a?void 0:a.toFixed(2)))||void 0===n?void 0:n.toFixed(2),h=[null===c||void 0===c?void 0:c.start,null===c||void 0===c?void 0:c.end],O={nextMonthEstimate:Ce,invoiceMode:ze,invoiceData:o,from:G,to:re,dates:h,startBalance:ge,endBalance:b,invoiceNumber:s,total:d,project:{name:j,key:xe},cardData:l[_e]};return u&&Object(ce.jsx)(v.a,{onClick:function(){return e(ye.INVOICE,{state:O})},color:"blue",size:"medium",children:"Generate Invoice"})}()]})]})]})]})}),Me=(n(3105),n(404)),Ce=function(){var e=Object(o.e)().state,t=Object(a.createRef)(),n="$ ".concat(-1*Number(e.endBalance)),c="$ ".concat(Number(e.endBalance)),r=(new Me.a,(Number(e.nextMonthEstimate)-Number(e.endBalance)).toFixed(2));return Object(ce.jsx)("div",{ref:t,children:Object(ce.jsxs)("div",{style:{width:816,margin:"20px auto",minHeight:1054},children:[Object(ce.jsx)("br",{}),"week"===e.invoiceMode?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("div",{style:{fontSize:18,fontFamily:"Arial",marginBottom:18,fontWeight:900},children:["Invoice #",e.invoiceNumber]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{style:{fontSize:18,fontFamily:"Arial",marginBottom:15,fontWeight:900},children:["Period: ",f()(e.dates[0]).format("MMMM D ,YYYY ")," through ",f()(e.dates[1]).format("MMMM D ,YYYY ")]})]}):Object(ce.jsxs)("div",{style:{fontSize:18,fontFamily:"Arial",marginBottom:15,fontWeight:900},children:["Invoice #",e.invoiceNumber," - ",f()(e.dates[0]).format("MMMM").toUpperCase()," ",f()(e.dates[0]).format("YYYY")]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("table",{width:815,border:1,cellSpacing:0,cellPadding:10,className:"",children:Object(ce.jsxs)("tbody",{style:{verticalAlign:"top",whiteSpace:"pre-wrap",textAlign:"left"},children:[Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{style:{width:"50%"},children:"From"}),Object(ce.jsx)("th",{style:{width:"50%"},children:"To"})]}),Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.from}),Object(ce.jsx)("td",{children:e.to})]})]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("table",{width:815,border:1,cellSpacing:0,cellPadding:5,className:"",children:Object(ce.jsxs)("tbody",{style:{textAlign:"left"},children:[Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{style:{width:200},children:"Starting ".concat("week"===(null===e||void 0===e?void 0:e.invoiceMode)?"week":"monthly"," balance")}),Object(ce.jsxs)("td",{children:["$ ",Z(Number(e.startBalance).toFixed(2))]})]}),Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{style:{width:200},children:"Ending ".concat("week"===(null===e||void 0===e?void 0:e.invoiceMode)?"week":"monthly"," balance")}),Object(ce.jsx)("td",{children:Z(c)})]})]})}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{children:["Work Log - ",e.project]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("table",{width:815,border:1,cellSpacing:0,cellPadding:5,className:"week-invoice",children:[Object(ce.jsxs)("tbody",{style:{textAlign:"center"},children:[Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"#"}),Object(ce.jsx)("th",{style:{textAlign:"left"},children:"Worker"}),"week"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsx)("th",{children:"Hours Worked"}),Object(ce.jsx)("th",{children:"Hours Billed"}),Object(ce.jsx)("th",{children:"Hourly Rate in USD"}),Object(ce.jsx)("th",{children:"Total in USD"}),Object(ce.jsx)("th",{children:"Number of tickets Assigned"}),Object(ce.jsx)("th",{children:"Avg age (in working days)"})]}),Object.keys(e.invoiceData).map((function(t,n){var a,c,r,i,l,o,d,s,j,b=e.invoiceData[t],u=e.cardData&&Object.keys(e.cardData).length>0?function(e,t){var n,a,c=le.a.findBestMatch(e,t);return(null===c||void 0===c||null===(n=c.bestMatch)||void 0===n?void 0:n.rating)>.6?null===c||void 0===c||null===(a=c.bestMatch)||void 0===a?void 0:a.target:e}(t,Object.keys(e.cardData)||Object.keys(e.invoiceData)):t;return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:n+1}),Object(ce.jsx)("td",{style:{textAlign:"left"},children:t}),"week"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsx)("td",{children:b.hoursWorked}),Object(ce.jsx)("td",{children:b.hoursBilled}),Object(ce.jsxs)("td",{children:["$ ",b.hourlyRate]}),Object(ce.jsx)("td",{children:Number(b.totalInUSD).toFixed(2)}),Object(ce.jsx)("td",{children:(null===(a=e.cardData[u])||void 0===a||null===(c=a.total)||void 0===c?void 0:c.cardTotal)||"--"}),Object(ce.jsx)("td",{children:("Team Member"===(null===(r=e.cardData[u])||void 0===r?void 0:r.role)?null===(i=e.cardData[u])||void 0===i||null===(l=i.total)||void 0===l||null===(o=l.average)||void 0===o?void 0:o.asTeamMember:null===(d=e.cardData[u])||void 0===d||null===(s=d.total)||void 0===s||null===(j=s.average)||void 0===j?void 0:j.asQAPerson)||"--"})]},t)}))]}),Object(ce.jsxs)("tfoot",{children:[Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{}),Object(ce.jsx)("th",{style:{textAlign:"left",paddingTop:20,paddingBottom:5},children:"Total"}),"week"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsx)("th",{style:{paddingTop:20,paddingBottom:5},children:e.total.hoursWorked}),Object(ce.jsx)("th",{style:{paddingTop:20,paddingBottom:5},children:e.total.hoursBilled}),Object(ce.jsx)("th",{}),Object(ce.jsxs)("th",{style:{paddingTop:20,paddingBottom:5},children:["$ ",Z(parseFloat(e.total.usd).toFixed(2))]}),Object(ce.jsx)("th",{}),Object(ce.jsx)("th",{})]}),"month"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{}),Object(ce.jsxs)("th",{style:{textAlign:"left"},children:["Total estimate for the month of ",f()(e.dates[0]).add(1,"month").format("MMMM")]}),Object(ce.jsx)("th",{children:" - "}),Object(ce.jsx)("th",{children:" - "}),Object(ce.jsxs)("th",{children:["$ ",Z(Number(e.nextMonthEstimate).toFixed(2))]}),Object(ce.jsx)("th",{}),Object(ce.jsx)("th",{})]}),Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{}),Object(ce.jsxs)("th",{style:{textAlign:"left"},children:[" ",Number(e.endBalance)<0?"Unpaid":"Paid","  bucket for ",f()(e.dates[0]).format("MMMM")]}),Object(ce.jsx)("th",{children:" - "}),Object(ce.jsx)("th",{children:" - "}),Object(ce.jsx)("th",{children:Z(n)}),Object(ce.jsx)("th",{}),Object(ce.jsx)("th",{})]}),Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{}),Object(ce.jsx)("th",{style:{textAlign:"left"},children:"Total Payable"}),Object(ce.jsx)("th",{children:" - "}),Object(ce.jsx)("th",{children:" - "}),Object(ce.jsxs)("th",{children:["$ ",Z(r)]}),Object(ce.jsx)("th",{}),Object(ce.jsx)("th",{})]})]})]})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{children:Object(ce.jsxs)("b",{children:["Amount due: $ ",Z(r)]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{children:Object(ce.jsxs)("p",{children:["Account balance after payment: $",Z(Number(e.nextMonthEstimate).toFixed(2))]})})]})})},Ae=n(654),Se=n.n(Ae),We=function(){var e=pe().getUser,t=Object(o.f)(),n=Object(a.useState)(""),c=Object(b.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(""),d=Object(b.a)(l,2),s=d[0],j=d[1];return Object(ce.jsx)(Y.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(ce.jsx)(Y.a.Column,{style:{maxWidth:450},children:Object(ce.jsx)(D.a,{size:"large",children:Object(ce.jsxs)(m.a,{stacked:!0,children:[Object(ce.jsx)(D.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",children:Object(ce.jsx)("input",{autoFocus:!0,value:r,onChange:function(e){return i(e.target.value)}})}),Object(ce.jsx)(D.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",children:Object(ce.jsx)("input",{value:s,onChange:function(e){return j(e.target.value)}})}),Object(ce.jsx)(v.a,{onClick:function(){e(r).then((function(e){var n=e.docs.map((function(e){return e.data()}))[0].password;Se()(s)===n?(localStorage.setItem("authAccess",!0),t("/")):alert("authentication failed")})).catch((function(e){return console.log({e:e})}))},color:"teal",fluid:!0,size:"large",children:"Login"})]})})})})},Ye=n(670),Ne=n(3517),Be=n(150),Ie=function(){var e,t=pe(),n=t.addProject,c=t.deleteProject,r=t.setProject,i=t.getProjectsList,l=Object(N.c)(je),o=Object(a.useState)(!1),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(a.useState)(l&&Object.keys(l).length>0?Object.keys(l)[0]:"add_new_project"),x=Object(b.a)(O,2),f=x[0],m=x[1],g=Object(a.useState)(!1),p=Object(b.a)(g,2),w=p[0],k=p[1],T={name:"",last_invoice_number:"",month_balance:"",monthly_invoice_address:"",week_balance:"",weekly_invoice_address:""},C=Be.a().shape({name:Be.b().required("Required"),last_invoice_number:Be.b().required("Required").test("Digits Only","Invalid Number",(function(e){return/^\d+$/.test(e)})),month_balance:Be.b().required("Required").test("Digits Only","Invalid Number",(function(e){return/^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/.test(e)})),week_balance:Be.b().required("Required").test("Digits Only","Invalid Number",(function(e){return/^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/.test(e)})),weekly_invoice_address:Be.b().required("Required"),monthly_invoice_address:Be.b().required("Required")}),A=Object(N.b)(),W=function(){return i().then((function(e){var t=e.docs.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t.id,t.data()))}),{});A(se(t))}))};Object(a.useEffect)((function(){W()}),[]),Object(a.useEffect)((function(){Object.keys(l).includes(f)||m(l&&Object.keys(l).length>0?Object.keys(l)[0]:"add_new_project")}),[l]),Object(a.useEffect)((function(){var e=l[f];e?B.setValues({name:e.name||"",last_invoice_number:e.last_invoice_number||"",month_balance:e.month_balance||"",monthly_invoice_address:e.monthly_invoice_address||"",week_balance:e.week_balance||"",weekly_invoice_address:e.weekly_invoice_address||""}):(B.setValues(T),B.resetForm())}),[f]);var B=Object(Ye.a)({initialValues:T,validationSchema:C,onSubmit:function(e){B.setSubmitting(!0),f&&("add_new_project"===f?n(e).then((function(e){return W().then((function(){alert("Project Added Successfully"),B.setSubmitting(!1)}))})).catch((function(){return alert("Something went wrong")})):r(f,e).then((function(e){return W().then((function(){alert("Project updated successfully"),B.setSubmitting(!1)}))})).catch((function(){return alert("Something went wrong")})))}}),I=function(e){if(B.touched[e]&&B.errors[e])return Object(ce.jsx)("div",{style:{margin:"10px 0px",color:"#9f3a38"},children:B.errors[e]})},_=function(e){m(e)};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(we,{}),Object(ce.jsxs)("div",{style:{margin:40},children:[f&&"add_new_project"!==f&&Object(ce.jsx)(S.a,{open:w,cancelButton:"No",confirmButton:Object(ce.jsx)(v.a,{negative:!0,children:"Yes"}),content:'Are you sure you want to delete "'.concat((null===(e=l[f])||void 0===e?void 0:e.name)||"",'"?'),onCancel:function(){return k(!1)},onConfirm:function(){k(!1),h(!0),c(f).then((function(e){return W().then((function(){alert("Project Deleted successfully"),h(!1)}))})).catch((function(){return alert("Something went wrong")}))}}),Object(ce.jsxs)(Y.a,{children:[Object(ce.jsx)(Y.a.Column,{mobile:16,tablet:5,computer:5,children:Object(ce.jsxs)(Ne.a,{selection:!0,verticalAlign:"middle",children:[Object.keys(l).map((function(e){var t=l[e];return Object(ce.jsx)(Ne.a.Item,{active:f===e,onClick:function(){return _(e)},children:Object(ce.jsx)(Ne.a.Content,{children:Object(ce.jsx)(Ne.a.Header,{children:t.name})})},e)})),Object(ce.jsx)(Ne.a.Item,{active:"add_new_project"===f,onClick:function(){return _("add_new_project")},children:Object(ce.jsx)(Ne.a.Content,{children:Object(ce.jsx)(Ne.a.Header,{children:"Add New Project"})})})]})}),Object(ce.jsx)(Y.a.Column,{mobile:16,tablet:11,computer:11,children:Object(ce.jsxs)(D.a,{children:[Object(ce.jsxs)(D.a.Field,{error:B.touched.name&&B.errors.name,children:[Object(ce.jsx)("label",{children:"Project Name"}),Object(ce.jsx)(M.a,{type:"text",placeholder:"Project name",children:Object(ce.jsx)("input",{id:"name",name:"name",onChange:B.handleChange,value:B.values.name,onBlur:B.handleBlur})}),I("name")]}),Object(ce.jsxs)(D.a.Field,{onBlur:B.handleBlur,error:B.touched.last_invoice_number&&B.touched.last_invoice_number&&B.errors.last_invoice_number,children:[Object(ce.jsx)("label",{children:"Last Invoice Number"}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Invoice number",children:[Object(ce.jsx)(y.a,{basic:!0,children:"#"}),Object(ce.jsx)("input",{id:"last_invoice_number",name:"last_invoice_number",onChange:B.handleChange,onBlur:B.handleBlur,value:B.values.last_invoice_number})]}),I("last_invoice_number")]}),Object(ce.jsxs)(D.a.Field,{error:B.touched.week_balance&&B.errors.week_balance,children:[Object(ce.jsx)("label",{children:"Week Balance"}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Amount",children:[Object(ce.jsx)(y.a,{basic:!0,children:"$"}),Object(ce.jsx)("input",{id:"week_balance",name:"week_balance",onChange:B.handleChange,onBlur:B.handleBlur,value:B.values.week_balance})]}),I("week_balance")]}),Object(ce.jsxs)(D.a.Field,{error:B.touched.month_balance&&B.errors.month_balance,children:[Object(ce.jsx)("label",{children:"Month Balance"}),Object(ce.jsxs)(M.a,{labelPosition:"left",type:"text",placeholder:"Amount",children:[Object(ce.jsx)(y.a,{basic:!0,children:"$"}),Object(ce.jsx)("input",{onBlur:B.handleBlur,id:"month_balance",name:"month_balance",onChange:B.handleChange,value:B.values.month_balance})]}),I("month_balance")]}),Object(ce.jsx)(D.a.TextArea,{id:"weekly_invoice_address",onBlur:B.handleBlur,error:B.touched.weekly_invoice_address&&B.errors.weekly_invoice_address,onChange:function(e,t){var n=t.value;return B.setFieldValue("weekly_invoice_address",n)},label:"Address ( Weekly Invoice )",placeholder:"enter the address",value:B.values.weekly_invoice_address}),Object(ce.jsx)(D.a.TextArea,{id:"monthly_invoice_address",onBlur:B.handleBlur,error:B.touched.monthly_invoice_address&&B.errors.monthly_invoice_address,onChange:function(e,t){var n=t.value;return B.setFieldValue("monthly_invoice_address",n)},value:B.values.monthly_invoice_address,label:"Address ( Monthly Invoice )",placeholder:"enter the address"}),Object(ce.jsx)(v.a,{loading:B.isSubmitting,onClick:function(){B.isValid?B.submitForm():alert("Fill all fields!")},color:"blue",type:"submit",children:"add_new_project"===f?"Add":"Update"}),"add_new_project"!==f&&Object(ce.jsx)(v.a,{loading:u,onClick:function(){return k(!0)},negative:!0,type:"submit",children:"Delete"})]})})]})]})]})},_e=n(27),Pe=n.p+"static/media/Arial_Bold.8996fe3e.ttf",Fe=n.p+"static/media/Arial.1c8866ea.ttf",He=n.p+"static/media/Arial-mt-extra-bold.46aae5a9.ttf";_e.Font.register({family:"Arial",fonts:[{src:Fe,fontWeight:"normal"},{src:Pe,fontStyle:"normal",fontWeight:"bold"},{src:He,fontStyle:"normal",fontWeight:"bolder"}]});var Re,Ee=function(){var e=Object(o.e)().state,t="$ ".concat(-1*Number(e.endBalance)),n="$ ".concat(Number(e.endBalance)),a=(Number(e.nextMonthEstimate)-Number(e.endBalance)).toFixed(2),c="week"===(null===e||void 0===e?void 0:e.invoiceMode);return Object(ce.jsx)(_e.PDFViewer,{style:$e.document,children:Object(ce.jsx)(_e.Document,{children:Object(ce.jsxs)(_e.Page,{size:"LETTER",style:$e.page,children:["week"===e.invoiceMode?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(_e.View,{style:$e.section,children:Object(ce.jsxs)(_e.Text,{children:["Invoice #",e.invoiceNumber]})}),Object(ce.jsx)(_e.View,{style:$e.section,children:Object(ce.jsxs)(_e.Text,{children:["Period: ",f()(e.dates[0]).format("MMMM D ,YYYY ")," through ",f()(e.dates[1]).format("MMMM D ,YYYY ")]})})]}):Object(ce.jsx)(_e.View,{style:$e.section,children:Object(ce.jsxs)(_e.Text,{children:["Invoice #",e.invoiceNumber," - ",f()(e.dates[0]).format("MMMM").toUpperCase()," ",f()(e.dates[0]).format("YYYY")]})}),Object(ce.jsxs)(_e.View,{style:$e.table,children:[Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",borderWidth:1,marginRight:40},children:[Object(ce.jsx)(_e.Text,{style:[$e.cellText,$e.cellBoldText,{borderRightWidth:1}],children:"From"}),Object(ce.jsx)(_e.Text,{style:[$e.cellText,$e.cellBoldText],children:"To"})]}),Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",marginRight:40,borderWidth:1,borderTopWidth:0,top:-1},children:[Object(ce.jsx)(_e.Text,{style:[$e.cellText,{borderRightWidth:1,paddingBottom:20}],children:e.from}),Object(ce.jsx)(_e.Text,{style:[$e.cellText,{paddingBottom:20}],children:e.to})]})]}),Object(ce.jsxs)(_e.View,{style:{marginTop:15},children:[Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",borderWidth:1,marginRight:40},children:[Object(ce.jsx)(_e.Text,{style:[$e.cellText,$e.cellBoldText,{borderRightWidth:1}],children:"Starting ".concat("week"===(null===e||void 0===e?void 0:e.invoiceMode)?"week":"monthly"," balance")}),Object(ce.jsxs)(_e.Text,{style:[$e.cellText,{flex:2}],children:["$ ",Z(Number(e.startBalance).toFixed(2))]})]}),Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",marginRight:40,borderWidth:1,borderTopWidth:0,top:-1},children:[Object(ce.jsx)(_e.Text,{style:[$e.cellText,$e.cellBoldText,{borderRightWidth:1}],children:"Ending ".concat("week"===(null===e||void 0===e?void 0:e.invoiceMode)?"week":"monthly"," balance")}),Object(ce.jsx)(_e.Text,{style:[$e.cellText,{flex:2}],children:Z(n)})]})]}),Object(ce.jsxs)(_e.Text,{style:{fontFamily:"Arial",marginTop:10,marginBottom:5,fontSize:11,color:"#454545"},children:["Work Log - ",Object(ce.jsx)(_e.Text,{style:{fontWeight:"bold"},children:e.project})]}),Object(ce.jsxs)(_e.View,{style:$e.table,children:[Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",fontFamily:"Arial",fontWeight:"bold",fontSize:11,marginRight:33,lineHeight:1.3},children:[Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:20,borderWidth:1},children:"#"}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",flex:1,borderWidth:1,left:-1},children:"Worker"}),"week"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:55,borderWidth:1,left:-2},children:"Hours Worked"}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:55,borderWidth:1,left:c?-3:-2},children:"Hours Billed"}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:50,borderWidth:1,left:c?-4:-3},children:"Hourly Rate in USD"}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:80,borderWidth:1,left:c?-5:-4},children:"Total in USD"}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:65,borderWidth:1,left:c?-6:-5},children:"Number of tickets Assigned"}),Object(ce.jsxs)(_e.Text,{style:{padding:5,textAlign:"center",width:85,borderWidth:1,left:c?-7:-6},children:["Avg age (in working","\n","days)"]})]}),Object.keys(e.invoiceData).map((function(t,n){var a,r,i,l,o,d,s,j,b,u=e.invoiceData[t];return Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",fontFamily:"Arial",fontWeight:"normal",fontSize:11,marginRight:33,lineHeight:1,top:-(n+1)},children:[Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:20,borderWidth:1},children:n+1}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"left",flex:1,borderWidth:1,left:-1},children:t}),"week"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:55,borderWidth:1,left:-2},children:u.hoursWorked}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:55,borderWidth:1,left:c?-3:-2},children:u.hoursBilled}),Object(ce.jsxs)(_e.Text,{style:{padding:5,textAlign:"center",width:50,borderWidth:1,left:c?-4:-3},children:["$ ",u.hourlyRate]}),Object(ce.jsx)(_e.Text,{style:{padding:5,textAlign:"center",width:80,borderWidth:1,left:c?-5:-4},children:Number(u.totalInUSD).toFixed(2)}),Object(ce.jsxs)(_e.Text,{style:{padding:5,textAlign:"center",width:65,borderWidth:1,left:c?-6:-5},children:[" ",(null===(a=e.cardData[t])||void 0===a||null===(r=a.total)||void 0===r?void 0:r.cardTotal)||"--"]}),Object(ce.jsxs)(_e.Text,{style:{padding:5,textAlign:"center",width:85,borderWidth:1,left:c?-7:-6},children:[" ",("Team Member"===(null===(i=e.cardData[t])||void 0===i?void 0:i.role)?null===(l=e.cardData[t])||void 0===l||null===(o=l.total)||void 0===o||null===(d=o.average)||void 0===d?void 0:d.asTeamMember:null===(s=e.cardData[t])||void 0===s||null===(j=s.total)||void 0===j||null===(b=j.average)||void 0===b?void 0:b.asQAPerson)||"--"," "]})]})})),Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",fontFamily:"Arial",fontWeight:"bold",fontSize:11,marginRight:33,lineHeight:1.3,top:-Object.keys(e.invoiceData).length-1},children:[Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:20,borderWidth:1}}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"left",flex:1,borderWidth:1,left:-1,alignSelf:"flex-end"},children:c?"Total":"Billed Total"}),"week"===(null===e||void 0===e?void 0:e.invoiceMode)&&Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:55,borderWidth:1,left:-2},children:e.total.hoursWorked}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:55,borderWidth:1,left:c?-3:-2},children:e.total.hoursBilled}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:50,borderWidth:1,left:c?-4:-3}}),Object(ce.jsxs)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:80,borderWidth:1,left:c?-5:-4},children:["$ ",Z(parseFloat(e.total.usd).toFixed(2))]}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:65,borderWidth:1,left:c?-6:-5}}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:85,borderWidth:1,left:c?-7:-6}})]})]}),function(){var n=[{title:"Total estimate for the month of ".concat(f()(e.dates[0]).add(1,"month").format("MMMM")),value:"$ ".concat(Z(Number(e.nextMonthEstimate).toFixed(2)))},{title:"".concat(Number(e.endBalance)<0?"Unpaid":"Paid","  bucket for ").concat(f()(e.dates[0]).format("MMMM")),value:Z(t)},{title:"Total Payable",value:"$ ".concat(Z(a))}];return"month"===e.invoiceMode&&n.map((function(t,n){return Object(ce.jsxs)(_e.View,{style:{flexDirection:"row",fontFamily:"Arial",fontWeight:"bold",fontSize:11,marginRight:33,lineHeight:1.3,top:-Object.keys(e.invoiceData).length-1-(n+1)},children:[Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:20,borderWidth:1}}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"left",flex:1,borderWidth:1,left:-1,alignSelf:"flex-end"},children:t.title}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:55,borderWidth:1,left:-2},children:" - "}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:50,borderWidth:1,left:-3},children:" - "}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:80,borderWidth:1,left:-4},children:t.value}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:65,borderWidth:1,left:-5}}),Object(ce.jsx)(_e.Text,{style:{paddingHorizontal:5,paddingBottom:0,height:30,paddingTop:15,textAlign:"center",width:85,borderWidth:1,left:-6}})]})}))}(),Object(ce.jsxs)(_e.View,{children:[Object(ce.jsx)(_e.View,{style:{paddingTop:5},children:Object(ce.jsxs)(_e.Text,{style:{fontSize:11,fontFamily:"Arial",fontWeight:"bold"},children:["Amount due: $ ",c?"--":Z(a)]})}),Object(ce.jsx)(_e.View,{style:{paddingTop:5},children:Object(ce.jsxs)(_e.Text,{style:{fontSize:11,fontFamily:"Arial",fontWeight:"normal"},children:["Account balance after payment: ",Object(ce.jsxs)(_e.Text,{style:{fontWeight:"bold"},children:["$",c?"--":Z(Number(e.nextMonthEstimate).toFixed(2))]})]})})]})]})})})},$e=_e.StyleSheet.create({page:{paddingHorizontal:30,paddingVertical:30,fontFamily:"Arial"},section:{fontSize:18,fontWeight:"bold",paddingBottom:20},document:{width:"100vw",height:"100vh"},table:{width:"100%"},cellBoldText:{fontWeight:"bold"},cellText:{flex:1,fontSize:11,fontWeight:"normal",padding:5,fontFamily:"Arial"}}),Ue=n(666),ze=n(667),Ve=n(215),Qe=ze.a.div(Re||(Re=Object(Ue.a)(["\n  padding: 1rem;\n  font-size: 15px;\n  font-weight: 'normal';\n  font-family: 'Arial';\n  h2 {\n    font-size: 24px;\n    font-weight: 900;\n  }\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"])));function Le(e){var t=e.columns,n=e.data,a=Object(Ve.useTable)({columns:t,data:n}),c=a.getTableProps,r=a.getTableBodyProps,i=a.headerGroups,l=a.rows,o=a.prepareRow;return Object(ce.jsxs)("table",Object(j.a)(Object(j.a)({style:{width:"100%"}},c()),{},{children:[Object(ce.jsx)("thead",{children:i.map((function(e){return Object(ce.jsx)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(ce.jsx)("th",Object(j.a)(Object(j.a)({style:{width:"50%",textAlign:"left"}},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(ce.jsx)("tbody",Object(j.a)(Object(j.a)({},r()),{},{style:{verticalAlign:"top",whiteSpace:"pre-wrap",textAlign:"left"},children:l.map((function(e,t){return o(e),Object(ce.jsx)("tr",Object(j.a)(Object(j.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(ce.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}function Ke(e){var t=e.columns,n=e.data,a=Object(Ve.useTable)({columns:t,data:n}),c=a.getTableProps,r=a.getTableBodyProps,i=(a.headerGroups,a.rows),l=a.prepareRow;return Object(ce.jsx)("table",Object(j.a)(Object(j.a)({style:{width:"100%"}},c()),{},{children:Object(ce.jsx)("tbody",Object(j.a)(Object(j.a)({},r()),{},{style:{verticalAlign:"top",whiteSpace:"pre-wrap",textAlign:"left"},children:i.map((function(e,t){return l(e),Object(ce.jsx)("tr",Object(j.a)(Object(j.a)({},e.getRowProps()),{},{children:e.cells.map((function(e,t){return Object(ce.jsx)("td",Object(j.a)(Object(j.a)({style:{width:"50%",textAlign:0===t?"left":"right"}},e.getCellProps()),{},{children:Object(ce.jsx)("b",{children:e.render("Cell")})}))}))}))}))}))}))}function Ge(e){var t=e.columns,n=e.data,a=e.state,c=Object(N.c)(J),r="$ ".concat(-1*Number(a.endBalance)),i=("$ ".concat(Number(a.endBalance)),(Number(a.nextMonthEstimate)-Number(a.endBalance)).toFixed(2)),l=Object(Ve.useTable)({columns:t,data:n}),o=l.getTableProps,d=l.getTableBodyProps,s=l.headerGroups,b=l.rows,u=l.prepareRow,h=function(e){switch(e){case"worker":return{flex:1,textAlign:"left"};case"hoursBilled":case"hourlyRate":case"hoursWorked":case"noOfTickets":return{width:80,textAlign:"center"};case"averageAge":case"totalInUSD":return{width:100,textAlign:"center"};default:return{width:"auto",textAlign:"center"}}};return Object(ce.jsxs)("table",Object(j.a)(Object(j.a)({style:{width:"100%"}},o()),{},{children:[Object(ce.jsx)("thead",{children:s.map((function(e){return Object(ce.jsxs)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:[Object(ce.jsx)("th",{children:"#"}),e.headers.map((function(e){return Object(ce.jsx)("th",Object(j.a)(Object(j.a)({style:h(e.id)},e.getHeaderProps()),{},{children:e.render("Header")}))}))]}))}))}),Object(ce.jsxs)("tbody",Object(j.a)(Object(j.a)({},d()),{},{children:[b.map((function(e,t){return u(e),Object(ce.jsxs)("tr",Object(j.a)(Object(j.a)({},e.getRowProps()),{},{children:[Object(ce.jsx)("td",{children:t+1}),e.cells.map((function(e){return Object(ce.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{style:h(e.column.id),children:e.render("Cell")}))}))]}))})),Object(ce.jsxs)("tr",{style:{fontWeight:"bolder",textAlign:"center"},children:[Object(ce.jsx)("td",{}),Object(ce.jsx)("td",{style:{textAlign:"left",paddingTop:20,paddingBottom:5},children:"Total"}),"week"===(null===a||void 0===a?void 0:a.invoiceMode)&&Object(ce.jsx)("td",{style:{paddingTop:20,paddingBottom:5},children:a.total.hoursWorked}),Object(ce.jsx)("td",{style:{paddingTop:20,paddingBottom:5},children:a.total.hoursBilled}),Object(ce.jsx)("td",{}),Object(ce.jsxs)("td",{style:{paddingTop:20,paddingBottom:5},children:["$ ",Z(parseFloat(a.total.usd).toFixed(2))]}),c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("td",{}),Object(ce.jsx)("td",{})]})]}),"month"===(null===a||void 0===a?void 0:a.invoiceMode)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("tr",{style:{fontWeight:"bolder",textAlign:"center"},children:[Object(ce.jsx)("td",{}),Object(ce.jsxs)("td",{style:{textAlign:"left"},children:["Total estimate for the month of ",f()(a.dates[0]).add(1,"month").format("MMMM")]}),Object(ce.jsx)("td",{children:" - "}),Object(ce.jsx)("td",{children:" - "}),Object(ce.jsxs)("td",{children:["$ ",Z(Number(a.nextMonthEstimate).toFixed(2))]}),c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("td",{}),Object(ce.jsx)("td",{})]})]}),Object(ce.jsxs)("tr",{style:{fontWeight:"bolder",textAlign:"center"},children:[Object(ce.jsx)("td",{}),Object(ce.jsxs)("td",{style:{textAlign:"left"},children:[" ",Number(a.endBalance)<0?"Unpaid":"Paid","  bucket for ",f()(a.dates[0]).format("MMMM")]}),Object(ce.jsx)("td",{children:" - "}),Object(ce.jsx)("td",{children:" - "}),Object(ce.jsx)("td",{children:Z(r)}),c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("td",{}),Object(ce.jsx)("td",{})]})]}),Object(ce.jsxs)("tr",{style:{fontWeight:"bolder",textAlign:"center"},children:[Object(ce.jsx)("td",{}),Object(ce.jsx)("td",{style:{textAlign:"left"},children:"Total Payable"}),Object(ce.jsx)("td",{children:" - "}),Object(ce.jsx)("td",{children:" - "}),Object(ce.jsxs)("td",{children:["$ ",Z(i)]}),c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("td",{}),Object(ce.jsx)("td",{})]})]})]})]}))]}))}function qe(e){var t=e.columns,n=e.data,a=Object(Ve.useTable)({columns:t,data:n}),c=a.getTableProps,r=a.getTableBodyProps,i=(a.headerGroups,a.rows),l=a.prepareRow;return Object(ce.jsx)("table",Object(j.a)(Object(j.a)({style:{width:"100%"}},c()),{},{children:Object(ce.jsx)("tbody",Object(j.a)(Object(j.a)({},r()),{},{children:i.map((function(e,t){return l(e),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("tr",Object(j.a)(Object(j.a)({},e.getRowProps()),{},{children:e.cells.map((function(e,t){return Object(ce.jsx)("td",Object(j.a)(Object(j.a)(Object(j.a)({},0===t&&{style:{fontWeight:"bold",width:200}}),e.getCellProps()),{},{children:e.render("Cell")}))}))}))})}))}))}))}var Je=function(){var e=Object(o.e)().state,t=Object(N.c)(J),n=pe(),r=n.getProjectsList,i=n.setProject,l=n.setInvoiceAppInfo,u=Object(N.c)(je),h=Object(N.c)(L),O=Object(N.b)(),x=Object(a.useState)(!0),m=Object(b.a)(x,2),g=m[0],p=m[1],y=function(){return r().then((function(e){var t=e.docs.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t.id,t.data()))}),{});O(se(t))}))},w=(Number(e.nextMonthEstimate)-Number(e.endBalance)).toFixed(2),k=c.a.useMemo((function(){return[{Header:"From",accessor:"from"},{Header:"To",accessor:"to"}]}),[]),D=c.a.useMemo((function(){return[{Header:"",accessor:"period"},{Header:"",accessor:"billingDate"}]}),[]),T=c.a.useMemo((function(){return[{Header:"Labels",accessor:"label"},{Header:"Balance",accessor:"value"}]}),[]),M=c.a.useMemo((function(){return[{Header:"Worker",accessor:"worker"}].concat(Object(d.a)("week"===e.invoiceMode?[{Header:"Hours Worked",accessor:"hoursWorked"}]:[]),[{Header:"Hours Billed",accessor:"hoursBilled"},{Header:"Hourly Rate in USD",accessor:"hourlyRate"},{Header:"Total in USD",accessor:"totalInUSD"}],Object(d.a)(t?[{Header:"Number of tickets Assigned",accessor:"noOfTickets"},{Header:"Avg age (in working days)",accessor:"averageAge"}]:[]))}),[]),C=c.a.useMemo((function(){return[{from:e.from,to:e.to}]}),[]),A=c.a.useMemo((function(){return[{period:"Billing Period:  ".concat(f()(e.dates[0]).format("Do")," to ").concat(f()(e.dates[1]).format("Do")," ").concat(f()(e.dates[0]).format("MMMM YYYY")),billingDate:"Invoice Date:".concat(0===f()(e.dates[1]).add(1,"days").weekday()?f()(e.dates[1]).add(2,"days").format("DD-MM-YYYY"):f()(e.dates[1]).add(1,"days").format("DD-MM-YYYY"))}]}),[]),S=c.a.useMemo((function(){return[{label:"Starting ".concat("week"===(null===e||void 0===e?void 0:e.invoiceMode)?"week":"monthly"," balance"),value:"$ "+Z(Number(e.startBalance).toFixed(2))},{label:"Ending ".concat("week"===(null===e||void 0===e?void 0:e.invoiceMode)?"week":"monthly"," balance"),value:"$ "+Z(Number(e.endBalance).toFixed(2))}]}),[]),W=Object.keys(e.invoiceData).sort().map((function(t,n){var a,c,r,i,l,o,d,s,j,b=e.invoiceData[t],u=e.cardData&&Object.keys(e.cardData).length>0?function(e,t){var n,a,c=le.a.findBestMatch(e,t);return(null===c||void 0===c||null===(n=c.bestMatch)||void 0===n?void 0:n.rating)>.6?null===c||void 0===c||null===(a=c.bestMatch)||void 0===a?void 0:a.target:e}(t,Object.keys(e.cardData)||Object.keys(e.invoiceData)):t;return{worker:t,hoursBilled:b.hoursBilled,hoursWorked:b.hoursWorked,hourlyRate:b.hourlyRate,totalInUSD:Number(b.totalInUSD).toFixed(2),noOfTickets:(null===e||void 0===e?void 0:e.cardData)&&(null===e||void 0===e||null===(a=e.cardData[u])||void 0===a||null===(c=a.total)||void 0===c?void 0:c.cardTotal)||"--",averageAge:(null===e||void 0===e?void 0:e.cardData)&&"Team Member"===(null===e||void 0===e||null===(r=e.cardData[u])||void 0===r?void 0:r.role)?null===(i=e.cardData[u])||void 0===i||null===(l=i.total)||void 0===l||null===(o=l.average)||void 0===o?void 0:o.asTeamMember:(null===e||void 0===e?void 0:e.cardData)&&(null===(d=e.cardData[u])||void 0===d||null===(s=d.total)||void 0===s||null===(j=s.average)||void 0===j?void 0:j.asQAPerson)||"--"}}));return Object(ce.jsxs)(Qe,{children:[g&&Object(ce.jsxs)("div",{style:{padding:10,marginBottom:50,boxShadow:"0px 1px 3px grey"},children:[Object(ce.jsx)(v.a,{onClick:function(){p(!1),setTimeout((function(){window.print(),setTimeout((function(){p(!0)}),500)}),100)},children:"Print"}),Object(ce.jsx)(v.a,{onClick:function(){var t=u[e.project.key];"month"===e.invoiceMode?i(e.project.key,Object(j.a)(Object(j.a)({},t),{},{month_balance:e.endBalance})).then((function(t){return y().then((function(){l(Object(j.a)(Object(j.a)({},h),{},{last_invoice_number:e.invoiceNumber})).then((function(){return alert("Saved successfully")}))}))})).catch((function(){return alert("Something went wrong")})):i(e.project.key,Object(j.a)(Object(j.a)({},t),{},{week_balance:e.endBalance})).then((function(t){return y().then((function(){l(Object(j.a)(Object(j.a)({},h),{},{last_invoice_number:e.invoiceNumber})).then((function(){return alert("Saved successfully")}))}))})).catch((function(){return alert("Something went wrong")}))},children:"Save Balance & Invoice Number"})]}),Object(ce.jsxs)("div",{style:{width:800,margin:"auto",paddingRight:30},children:["week"===e.invoiceMode?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("h2",{children:["Invoice #",e.invoiceNumber]}),Object(ce.jsxs)("h2",{children:["Period: ",f()(e.dates[0]).format("MMMM D ,YYYY ")," through ",f()(e.dates[1]).format("MMMM D ,YYYY ")]})]}):Object(ce.jsxs)("h2",{children:["Invoice #",e.invoiceNumber," - ",f()(e.dates[0]).format("MMMM").toUpperCase()," ",f()(e.dates[0]).format("YYYY")]}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Ke,{columns:D,data:A}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Le,{columns:k,data:C}),Object(ce.jsx)("br",{}),Object(ce.jsx)(qe,{columns:T,data:S}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{style:{color:"#525659"},children:["Work Log - ",Object(ce.jsx)("span",{style:{fontWeight:"bolder"},children:e.project.name})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Ge,{columns:M,data:W,state:e}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{children:Object(ce.jsxs)("b",{children:["Amount due: $ ","week"===e.invoiceMode?"---":Z(w)]})}),Object(ce.jsx)("div",{children:Object(ce.jsxs)("p",{children:["Account balance after payment: ",Object(ce.jsx)("span",{style:{fontWeight:"bolder"},children:"week"===e.invoiceMode?"---":"$".concat(Z(Number(e.nextMonthEstimate).toFixed(2)))})]})})]})]})};var Xe=function(){return Object(ce.jsx)(l.a,{children:Object(ce.jsxs)(o.c,{children:[Object(ce.jsx)(o.a,{path:ye.DOWNLOAD_INVOICE,element:Object(ce.jsx)(Ee,{})}),Object(ce.jsx)(o.a,{path:ye.PROJECTS,element:Object(ce.jsx)(Ie,{})}),Object(ce.jsx)(o.a,{path:ye.WEEK_INVOICE,element:Object(ce.jsx)(Ce,{})}),Object(ce.jsx)(o.a,{path:ye.INVOICE,element:Object(ce.jsx)(Je,{})}),Object(ce.jsx)(o.a,{path:ye.LOGIN,element:Object(ce.jsx)(We,{})}),Object(ce.jsx)(o.a,{path:ye.HOME,element:Object(ce.jsx)(Te,{})})]})})},Ze=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,3647)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},et=Object(B.a)({reducer:{projects:be,invoice:K,ui:X}});i.a.render(Object(ce.jsx)(c.a.StrictMode,{children:Object(ce.jsx)(N.a,{store:et,children:Object(ce.jsx)(Xe,{})})}),document.getElementById("root")),Ze()},687:function(e,t,n){},688:function(e,t,n){},709:function(e,t){},711:function(e,t){},719:function(e,t,n){},823:function(e,t){},837:function(e,t){},839:function(e,t){},867:function(e,t){},868:function(e,t){},873:function(e,t){},875:function(e,t){},882:function(e,t){},901:function(e,t){}},[[3494,1,2]]]);
//# sourceMappingURL=main.9bde4112.chunk.js.map